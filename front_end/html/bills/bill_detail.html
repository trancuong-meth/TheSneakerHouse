<div class="card p-3 shadow">

  <!-- bread crumbs -->
  <div class="d-sm-flex d-block align-items-center justify-content-between ">
    <div class=" mb-sm-0">
      <i class="ti ti-home-2"></i> / <a href="#!hoa-don">Quản lý đơn hàng</a> /
      <span style="color: black;display: inline-block;">Chi tiết đơn hàng</span>
    </div>
  </div>

  <div class="sch-style-2" ng-if="bill.trangThai == 4 && history.length == 1">
    <div class="sch-timeline-content">
      <div class="sch-content" style="    margin-left: 136px;">
        <div class="sch-up">
          <div class="sch-icon">
            <i class="ti ti-circle-check" style="font-size: 20px;"></i>
          </div>
        </div>
        <button class="btn-right"><a href="#"></a></button>
        <div class="sch-down">
          <div class="sch-text">
            <span style="display: inline-block;margin-top: 10px;font-weight: 600; color: #000000cc;">Thành công</span>
            <span style="display: block;font-size: 10px;transform: translateY(-7px);">{{bill.ngayTao | date : 'hh:MM
              dd/MM/yyyy'}}</span>
          </div>
        </div>
      </div>

      <div class="sch-content">
        <div class="sch-up ">

          <div class="sch-icon btn-disaled">
            <i class="ti ti-truck " style="font-size: 0px;"></i>
          </div>
        </div>
        <button class="btn-right btn-disaled"><a href="#"></a></button>
        <div class="sch-down btn-disaled">
          <div class="sch-text">
            <span style="display: inline-block;margin-top: 10px;font-weight: 600; color: #000000cc;">Chờ giao</span>
            <span style="display: inline-block;font-size: 10px;transform: translateY(-7px);">1/1/2020 - 2/2/2020</span>
          </div>
        </div>
      </div>

      <div class="sch-content">
        <div class="sch-up">

          <div class="sch-icon btn-disaled">
            <i class="ti ti-truck-delivery" style="font-size: 0px;"></i>
          </div>
        </div>
        <button class="btn-right btn-disaled"><a href="#"></a></button>
        <div class="sch-down btn-disaled">
          <div class="sch-text">
            <span style="display: inline-block;margin-top: 10px;font-weight: 600; color: #000000cc;">Đang giao</span>
            <span style="display: inline-block;font-size: 10px;transform: translateY(-7px);">1/1/2020 - 2/2/2020</span>
          </div>
        </div>
      </div>

      <div class="sch-content">
        <div class="sch-up">

          <div class="sch-icon btn-disaled">
            <i class="ti ti-circle-check" style="font-size: 0px;"></i>
          </div>
        </div>
        <button class="btn-right btn-disaled"><a href="#"></a></button>
        <div class="sch-down btn-disaled">
          <div class="sch-text">
            <span style="display: inline-block;margin-top: 10px;font-weight: 600; color: #000000cc;">Thành công</span>
            <span style="display: inline-block;font-size: 10px;transform: translateY(-7px);">1/1/2020 - 2/2/2020</span>
          </div>
        </div>
      </div>

    </div>
  </div>

  <div class="sch-style-2" ng-if="bill.trangThai == 1 && history.length >= 1">
    <div class="sch-timeline-content">
      <div class="sch-content" style="    margin-left: 136px;">
        <div class="sch-up">
          <div class="sch-icon">
            <i class="ti ti-checklist" style="font-size: 20px;"></i>
          </div>
        </div>
        <button class="btn-right"><a href="#"></a></button>
        <div class="sch-down">
          <div class="sch-text">
            <span style="display: inline-block;margin-top: 10px;font-weight: 600; color: #000000cc;">Tạo hóa đơn</span>
            <span style="display: inline-block;font-size: 10px;transform: translateY(-7px);">{{billState1.ngayTao | date
              : " HH:mmdd/MM/yyyy "}}</span>
          </div>
        </div>
      </div>

      <div class="sch-content">
        <div class="sch-up ">

          <div class="sch-icon btn-disaled">
            <i class="ti ti-truck " style="font-size: 20px;"></i>
          </div>
        </div>
        <button class="btn-right btn-disaled"><a href="#"></a></button>
        <div class="sch-down btn-disaled">
          <div class="sch-text">
            <span style="display: inline-block;margin-top: 10px;font-weight: 600; color: #000000cc;">Chờ giao</span>
            <span style="display: inline-block;font-size: 10px;transform: translateY(-7px);">1/1/2020 - 2/2/2020</span>
          </div>
        </div>
      </div>

      <div class="sch-content">
        <div class="sch-up">

          <div class="sch-icon btn-disaled">
            <i class="ti ti-truck-delivery" style="font-size: 20px;"></i>
          </div>
        </div>
        <button class="btn-right btn-disaled"><a href="#"></a></button>
        <div class="sch-down btn-disaled">
          <div class="sch-text">
            <span style="display: inline-block;margin-top: 10px;font-weight: 600; color: #000000cc;">Đang giao</span>
            <span style="display: inline-block;font-size: 10px;transform: translateY(-7px);">1/1/2020 - 2/2/2020</span>
          </div>
        </div>
      </div>

      <!-- <div class="sch-content">
        <div class="sch-up">

          <div class="sch-icon btn-disaled">
            <i class="ti ti-credit-card-pay" style="font-size: 20px;"></i>
          </div>
        </div>
        <button class="btn-right btn-disaled"><a href="#"></a></button>
        <div class="sch-down btn-disaled">
          <div class="sch-text">
            <span style="display: inline-block;margin-top: 10px;font-weight: 600; color: #000000cc;">Xác nhận thanh
              toán</span>
            <span style="display: inline-block;font-size: 10px;transform: translateY(-7px);">1/1/2020 - 2/2/2020</span>
          </div>
        </div>
      </div> -->

      <div class="sch-content">
        <div class="sch-up">

          <div class="sch-icon btn-disaled">
            <i class="ti ti-circle-check" style="font-size: 20px;"></i>
          </div>
        </div>
        <button class="btn-right btn-disaled"><a href="#"></a></button>
        <div class="sch-down btn-disaled">
          <div class="sch-text">
            <span style="display: inline-block;margin-top: 10px;font-weight: 600; color: #000000cc;">Thành công</span>
            <span style="display: inline-block;font-size: 10px;transform: translateY(-7px);">1/1/2020 - 2/2/2020</span>
          </div>
        </div>
      </div>

    </div>
  </div>

  <div class="sch-style-2" ng-if="bill.trangThai == 2 && history.length >= 1">
    <div class="sch-timeline-content">
      <div class="sch-content" style="    margin-left: 136px;">
        <div class="sch-up">
          <div class="sch-icon">
            <i class="ti ti-checklist" style="font-size: 20px;"></i>
          </div>
        </div>
        <button class="btn-right"><a href="#"></a></button>
        <div class="sch-down">
          <div class="sch-text">
            <span style="display: inline-block;margin-top: 10px;font-weight: 600; color: #000000cc;">Tạo hóa đơn</span>
            <span style="display: inline-block;font-size: 10px;transform: translateY(-7px);">{{billState1.ngayTao | date
              : "HH:mm dd/MM/yyyy"}}</span>
          </div>
        </div>
      </div>

      <div class="sch-content">
        <div class="sch-up ">

          <div class="sch-icon ">
            <i class="ti ti-truck " style="font-size: 20px;"></i>
          </div>
        </div>
        <button class="btn-right "><a href="#"></a></button>
        <div class="sch-down">
          <div class="sch-text">
            <span style="display: inline-block;margin-top: 10px;font-weight: 600; color: #000000cc;">Chờ giao</span>
            <span style="display: inline-block;font-size: 10px;transform: translateY(-7px);">{{billState2.ngayTao | date
              : "HH:mm dd/MM/yyyy"}}</span>
          </div>
        </div>
      </div>

      <div class="sch-content">
        <div class="sch-up">

          <div class="sch-icon btn-disaled">
            <i class="ti ti-truck-delivery" style="font-size: 20px;"></i>
          </div>
        </div>
        <button class="btn-right btn-disaled"><a href="#"></a></button>
        <div class="sch-down btn-disaled">
          <div class="sch-text">
            <span style="display: inline-block;margin-top: 10px;font-weight: 600; color: #000000cc;">Đang giao</span>
            <span style="display: inline-block;font-size: 10px;transform: translateY(-7px);">1/1/2020 - 2/2/2020</span>
          </div>
        </div>
      </div>

      <div class="sch-content">
        <div class="sch-up">

          <div class="sch-icon btn-disaled">
            <i class="ti ti-circle-check" style="font-size: 20px;"></i>
          </div>
        </div>
        <button class="btn-right btn-disaled"><a href="#"></a></button>
        <div class="sch-down btn-disaled">
          <div class="sch-text">
            <span style="display: inline-block;margin-top: 10px;font-weight: 600; color: #000000cc;">Thành công</span>
            <span style="display: inline-block;font-size: 10px;transform: translateY(-7px);">1/1/2020 - 2/2/2020</span>
          </div>
        </div>
      </div>

    </div>
  </div>

  <div class="sch-style-2" ng-if="bill.trangThai == 3 && history.length > 1">
    <div class="sch-timeline-content">
      <div class="sch-content" style="    margin-left: 136px;">
        <div class="sch-up">
          <div class="sch-icon">
            <i class="ti ti-checklist" style="font-size: 20px;"></i>
          </div>
        </div>
        <button class="btn-right"><a href="#"></a></button>
        <div class="sch-down">
          <div class="sch-text">
            <span style="display: inline-block;margin-top: 10px;font-weight: 600; color: #000000cc;">Tạo hóa đơn</span>
            <span style="display: inline-block;font-size: 10px;transform: translateY(-7px);">{{billState1.ngayTao | date
              : "HH:mm dd/MM/yyyy"}}</span>
          </div>
        </div>
      </div>

      <div class="sch-content">
        <div class="sch-up ">

          <div class="sch-icon ">
            <i class="ti ti-truck " style="font-size: 20px;"></i>
          </div>
        </div>
        <button class="btn-right "><a href="#"></a></button>
        <div class="sch-down">
          <div class="sch-text">
            <span style="display: inline-block;margin-top: 10px;font-weight: 600; color: #000000cc;">Chờ giao</span>
            <span style="display: inline-block;font-size: 10px;transform: translateY(-7px);">{{billState2.ngayTao | date
              : "HH:mm dd/MM/yyyy"}}</span>
          </div>
        </div>
      </div>

      <div class="sch-content">
        <div class="sch-up">

          <div class="sch-icon ">
            <i class="ti ti-truck-delivery" style="font-size: 20px;"></i>
          </div>
        </div>
        <button class="btn-right"><a href="#"></a></button>
        <div class="sch-down">
          <div class="sch-text">
            <span style="display: inline-block;margin-top: 10px;font-weight: 600; color: #000000cc;">Đang giao</span>
            <span style="display: inline-block;font-size: 10px;transform: translateY(-7px);">{{billState3.ngayTao | date
              : "HH:mm dd/MM/yyyy"}}</span>
          </div>
        </div>
      </div>

      <div class="sch-content">
        <div class="sch-up">

          <div class="sch-icon btn-disaled">
            <i class="ti ti-circle-check" style="font-size: 20px;"></i>
          </div>
        </div>
        <button class="btn-right btn-disaled"><a href="#"></a></button>
        <div class="sch-down btn-disaled">
          <div class="sch-text">
            <span style="display: inline-block;margin-top: 10px;font-weight: 600; color: #000000cc;">Thành công</span>
            <span style="display: inline-block;font-size: 10px;transform: translateY(-7px);">1/1/2020 - 2/2/2020</span>
          </div>
        </div>
      </div>

    </div>
  </div>

  <div class="sch-style-2" ng-if="bill.trangThai == 4 && history.length > 1">
    <div class="sch-timeline-content">
      <div class="sch-content" style="    margin-left: 136px;">
        <div class="sch-up">
          <div class="sch-icon">
            <i class="ti ti-checklist" style="font-size: 20px;"></i>
          </div>
        </div>
        <button class="btn-right"><a href="#"></a></button>
        <div class="sch-down">
          <div class="sch-text">
            <span style="display: inline-block;margin-top: 10px;font-weight: 600; color: #000000cc;">Tạo hóa đơn</span>
            <span style="display: inline-block;font-size: 10px;transform: translateY(-7px);">{{billState1.ngayTao | date
              : "HH:mm dd/MM/yyyy"}}</span>
          </div>
        </div>
      </div>

      <div class="sch-content">
        <div class="sch-up">

          <div class="sch-icon">
            <i class="ti ti-truck" style="font-size: 20px;"></i>
          </div>
        </div>
        <button class="btn-right"><a href="#"></a></button>
        <div class="sch-down">
          <div class="sch-text">
            <span style="display: inline-block;margin-top: 10px;font-weight: 600; color: #000000cc;">Chờ giao</span>
            <span style="display: inline-block;font-size: 10px;transform: translateY(-7px);">{{billState2.ngayTao | date
              : "HH:mm dd/MM/yyyy"}}</span>
          </div>
        </div>
      </div>

      <div class="sch-content">
        <div class="sch-up">

          <div class="sch-icon">
            <i class="ti ti-truck-delivery" style="font-size: 20px;"></i>
          </div>
        </div>
        <button class="btn-right"><a href="#"></a></button>
        <div class="sch-down">
          <div class="sch-text">
            <span style="display: inline-block;margin-top: 10px;font-weight: 600; color: #000000cc;">Đang giao</span>
            <span style="display: inline-block;font-size: 10px;transform: translateY(-7px);">{{billState3.ngayTao | date
              : "HH:mm dd/MM/yyyy"}}</span>
          </div>
        </div>
      </div>

      <div class="sch-content">
        <div class="sch-up">

          <div class="sch-icon">
            <i class="ti ti-circle-check" style="font-size: 20px;"></i>
          </div>
        </div>
        <button class="btn-right"><a href="#"></a></button>
        <div class="sch-down">
          <div class="sch-text">
            <span style="display: inline-block;margin-top: 10px;font-weight: 600; color: #000000cc;">Thành công</span>
            <span style="display: inline-block;font-size: 10px;transform: translateY(-7px);">{{billState4.ngayTao | date
              : "HH:mm dd/MM/yyyy"}}</span>
          </div>
        </div>
      </div>

    </div>
  </div>

  <!-- button -->
  <div style="display: flex;justify-content: space-between;" ng-if="bill.trangThai == 4 && history.length == 1">
    <div style="display: flex;justify-content: space-between;width: 33%;">
      <button class="btn btn-primary" ng-click="print()">
        Xuất hóa đơn
      </button>
    </div>

    <div style="display: flex;justify-content: space-between;">
      <button class="btn btn-danger" ng-click="goBack()">
        Chi tiết
      </button>
    </div>
  </div>

  <div style="display: flex;justify-content: space-between;" ng-if="bill.trangThai == 1 && history.length >= 1">
    <div style="display: flex;width: 33%;">
      <button class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#confirmModal">
        Xác nhận
      </button>
      <button class="btn btn-danger" ng-click="print()" style="margin-left: 10px;">
        Hủy
      </button>
    </div>

    <div style="display: flex;justify-content: space-between;">
      <button class="btn btn-danger" ng-click="goBack()">
        Chi tiết
      </button>
    </div>
  </div>

  <div style="display: flex;justify-content: space-between;" ng-if="bill.trangThai == 2 && history.length > 1">
    <div style="display: flex;width: 60%;">
      <button class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#shipModal">
        Vận chuyển
      </button>
      <button class="btn btn-warning" ng-click="print()" style="margin-left: 10px;">
        Xuất hóa đơn
      </button>
      <button class="btn btn-danger" ng-click="print()" style="margin-left: 10px;">
        Hủy
      </button>
    </div>

    <div style="display: flex;justify-content: space-between;">
      <button class="btn btn-danger" ng-click="goBack()">
        Chi tiết
      </button>
    </div>
  </div>

  <div style="display: flex;justify-content: space-between;" ng-if="bill.trangThai == 3 && history.length > 1">
    <div style="display: flex;width: 33%;">
      <button class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#successModal">
        Hoàn thành
      </button>
      <button class="btn btn-warning" ng-click="print()" style="margin-left: 10px;">
        Xuất hóa đơn
      </button>
    </div>

    <div style="display: flex;justify-content: space-between;">
      <button class="btn btn-danger" ng-click="goBack()">
        Chi tiết
      </button>
    </div>
  </div>

  <div style="display: flex;justify-content: space-between;" ng-if="bill.trangThai == 4 && history.length > 1">
    <div style="display: flex;width: 33%;">
      <button class="btn btn-warning" ng-click="print()">
        Xuất hóa đơn
      </button>
    </div>

    <div style="display: flex;justify-content: space-between;">
      <button class="btn btn-danger" ng-click="goBack()">
        Chi tiết
      </button>
    </div>
  </div>


</div>

<div class="card p-3 shadow">
  <!-- bread crumbs -->
  <div class="d-sm-flex d-block align-items-center justify-content-between mb-9">
    <div class="mb-3 mb-sm-0">
      <i class="ti ti-receipt-dollar" style="display: inline-block;font-size: 16px;color: #5D87FF;"></i>
      <span style="color: black;display: inline-block;font-size: 16px;color: #5D87FF;font-weight: 500;">Thông tin đơn
        hàng</span>
    </div>
  </div>

  <!-- body -->
  <div style="display: flex;justify-content: space-between;">

    <div style="width: 50%;">

      <div style="margin-bottom: 10px;">
        <span style="
          display: inline-block;
         font-size: 14px;
         font-weight: 600;
         width: 260px; color: #333">
          Trạng thái:
        </span>
        <span style="
        display: inline-block;
        font-size: 14px;
        font-weight: 600; color: #FA896B" ng-if="bill.trangThai == 1">
          Tạo đơn hàng
        </span>

        <span style="
        display: inline-block;
        font-size: 14px;
        font-weight: 600; color: #FA896B" ng-if="bill.trangThai == 2">
          Chờ giao
        </span>

        <span style="
        display: inline-block;
        font-size: 14px;
        font-weight: 600; color: #FA896B" ng-if="bill.trangThai == 3">
          Đang giao
        </span>


        <span style="
        display: inline-block;
        font-size: 14px;
        font-weight: 600; color: #FA896B" ng-if="bill.trangThai == 4">
          Thành công
        </span>
      </div>

      <div style="margin-bottom: 10px;">
        <span style="
          display: inline-block;
         font-size: 14px;
         font-weight: 600;
         width: 260px; color: #333">
          Mã đơn hàng:
        </span>
        <span style="
        display: inline-block;
       font-size: 14px;
       font-weight: 600; color: #FA896B">
          {{bill.ma}}
        </span>
      </div>

      <div style="margin-bottom: 10px;">
        <span style="
          display: inline-block;
         font-size: 14px;
         font-weight: 600;
         width: 260px; color: #333">
          Loại đơn hàng:
        </span>
        <span style="
        display: inline-block;
       font-size: 14px;
       font-weight: 600; color: #FA896B">
          {{bill.loaiHoaDon == 0 || bill.loaiHoaDon == null ? "Tại quầy" : "Giao hàng"}}
        </span>
      </div>

    </div>
    <div style="width: 50%;">
      <div style="margin-bottom: 10px;">
        <span style="
          display: inline-block;
         font-size: 14px;
         font-weight: 600;
         width: 260px; color: #333">
          Phí vận chuyển
        </span>
        <span style="
        display: inline-block;
       font-size: 14px;
       font-weight: 600; color: #FA896B">
          {{bill.phiVanChuyen == null ? formatToVND(0) : formatToVND(bill.phiVanChuyen)}}
        </span>
      </div>

      <div style="margin-bottom: 10px;">
        <span style="
          display: inline-block;
         font-size: 14px;
         font-weight: 600;
         width: 260px; color: #333">
          Tổng tiền
        </span>
        <span style="
        display: inline-block;
       font-size: 14px;
       font-weight: 600; color: #FA896B">
          {{formatToVND(bill.tongTien)}}
        </span>
      </div>

      <div style="margin-bottom: 10px;">
        <span style="
          display: inline-block;
         font-size: 14px;
         font-weight: 600;
         width: 260px; color: #333">
          {{ bill.phuongThucThanhToan !== null ? "Đã thanh toán :" : "Cần phải thanh toán :"}}
        </span>
        <span style="
        display: inline-block;
       font-size: 14px;
       font-weight: 600; color: #FA896B">
          {{formatToVND(bill.tongTienSauGiam)}}
        </span>
      </div>
    </div>

  </div>
</div>

<div class="card p-3 shadow">
  <!-- bread crumbs -->
  <div class="d-sm-flex d-block align-items-center justify-content-between mb-9">
    <div class="mb-3 mb-sm-0">
      <i class="ti ti-receipt-dollar" style="display: inline-block;font-size: 16px;color: #5D87FF;"></i>
      <span style="color: black;display: inline-block;font-size: 16px;color: #5D87FF;font-weight: 500;">Thông tin khách
        hàng</span>
    </div>

    <div>
      <button class="btn btn-primary" ng-if="(bill.trangThai == 2 || bill.trangThai == 1) && bill.idKhachHang != null"
        data-bs-toggle="modal" data-bs-target="#customerEdit" ng-click="editCustomer()">
        <i class="ti ti-edit" style="
                            display: inline-block;
                            font-size: 18px;
                            transform: translateY(2px);
                        "></i>
        Sửa khách hàng</button>
    </div>
  </div>

  <div style="display: flex;justify-content: space-between;" ng-if="bill.idKhachHang != null">

    <div style="width: 50%;">

      <div style="margin-bottom: 10px;">
        <span style="
          display: inline-block;
         font-size: 14px;
         font-weight: 600;
         width: 260px; color: #333">
          Tên khách hàng:
        </span>
        <span style="
        display: inline-block;
       font-size: 14px;
       font-weight: 600; color: #FA896B">
          {{bill.tenNguoiNhan}}
        </span>
      </div>

      <div style="margin-bottom: 10px;">
        <span style="
          display: inline-block;
         font-size: 14px;
         font-weight: 600;
         width: 260px; color: #333">
          Số điện thoại:
        </span>
        <span style="
        display: inline-block;
       font-size: 14px;
       font-weight: 600; color: #FA896B">
          {{bill.sdtNguoiNhan}}
        </span>
      </div>

    </div>
    <div style="width: 50%;">

      <div style="margin-bottom: 10px;">
        <span style="
          display: inline-block;
         font-size: 14px;
         font-weight: 600;
         width: 260px; color: #333">
          Email:
        </span>
        <span style="
        display: inline-block;
       font-size: 14px;
       font-weight: 600; color: #FA896B">
          {{bill.email == null ?"Không có " : bill.email}}
        </span>
      </div>

      <div style="margin-bottom: 10px;">
        <span style="
          display: inline-block;
         font-size: 14px;
         font-weight: 600;
         width: 100px; color: #333">
          Địa chỉ:
        </span>
        <span style="
        display: inline-block;
       font-size: 14px;
       font-weight: 600; color: #FA896B" ng-if="bill.diaChi != null">
          {{ bill.diaChi + ", " + bill.xa + ", " + bill.phuong + ", " + bill.tinh }}
        </span>
        <span style="
        display: inline-block;
       font-size: 14px;
       font-weight: 600; color: #FA896B" ng-if="bill.diaChi == null">
          {{ bill.idKhachHang.diaChi + ", " + bill.idKhachHang.xa + ", " + bill.idKhachHang.phuong + ", " +
          bill.idKhachHang.tinh }}
        </span>
      </div>
    </div>

  </div>

  <div style="display: flex;justify-content: space-between;" ng-if="bill.idKhachHang == null">
    <div style="width: 50%;">

      <div style="margin-bottom: 10px;">
        <span style="
          display: inline-block;
         font-size: 14px;
         font-weight: 600;
         width: 260px; color: #333">
          Loại khách hàng:
        </span>
        <span style="
        display: inline-block;
       font-size: 14px;
       font-weight: 600; color: #FA896B">
          Khách lẻ
        </span>
      </div>

    </div>
  </div>

</div>

<div class="card p-3 shadow">
  <!-- bread crumbs -->
  <div class="d-sm-flex d-block align-items-center justify-content-between mb-9">
    <div class="mb-3 mb-sm-0">
      <i class="ti ti-receipt-dollar" style="display: inline-block;font-size: 16px;color: #5D87FF;"></i>
      <span style="color: black;display: inline-block;font-size: 16px;color: #5D87FF;font-weight: 500;">Danh sách sản
        phẩm
      </span>
    </div>
    <div>
      <button class="btn btn-primary" ng-if="bill.trangThai == 2 || bill.trangThai == 1" ng-click="addBill()">
        <i class="ti ti-plus" style="
                            display: inline-block;
                            font-size: 18px;
                            transform: translateY(2px);
                        "></i>
        Thêm sản phẩm</button>
    </div>
  </div>

  <!-- body -->
  <div ng-if="billDetails.content.length > 0">
    <table class="table">
      <thead class="text-dark fs-4" style="background-color: rgb(218 212 212 / 24%)">
        <tr>
          <th style="width: 7%;">
            <h6 class="fw-semibold mb-0 text-center" style="border-right: 1px solid #b1acac;">#</h6>
          </th>
          <th class="border-bottom-0 text-center" style="width: 45%;">
            <h6 class="fw-semibold mb-0" style="border-right: 1px solid #b1acac;">Sản phẩm</h6>
          </th>
          <th class="border-bottom-0 text-center" style="width: 20%;">
            <h6 class="fw-semibold mb-0" style="border-right: 1px solid #b1acac;">Số lượng</h6>
          </th>
          <th class="border-bottom-0 text-center" style="width: 17%;">
            <h6 class="fw-semibold mb-0" style="border-right: 1px solid #b1acac;">Tổng tiền</h6>
          </th>
          <th class="border-bottom-0 text-center">
            <h6 class="fw-semibold mb-0">Thao tác</h6>
          </th>
        </tr>
      </thead>
      <tbody>
        <tr ng-repeat="billDetail in billDetails.content">
          <td class="border-bottom-0">
            <h6 class="fw-semibold mb-0"> {{$index + 1}}</h6>
          </td>
          <td class="border-bottom-0">
            <img ng-repeat="image in getAllImagesByIDProductDetail(billDetail.idSanPhamChiTiet.id,'product')"
              style="width: 100px;height: 100px;">
            <div style="justify-content: space-between;display: flex;">
              <div id="image-product-{{billDetail.idSanPhamChiTiet.id}}" style="width: 40%;">
              </div>

              <div style="width: 58%;">
                <span style="
                    display: inline-block;
                    color: #333;
                    font-size: 14px;
                    font-weight: 600;
                    transform: translateY(-5px);
                    ">{{billDetail.idSanPhamChiTiet.idSanPham.ten}}[{{billDetail.idSanPhamChiTiet.idMauSac.ten}}
                  - {{billDetail.idSanPhamChiTiet.idKichCo.kichCo}}]</span>

                <div style="display: flex;font-size: 12px;transform: translateY(-7px);">
                  <span>Màu: {{billDetail.idSanPhamChiTiet.idMauSac.ten}}</span>
                  <span style="margin-left: 10px;">Kích cỡ:
                    {{billDetail.idSanPhamChiTiet.idKichCo.kichCo}}</span>
                </div>

                <div style="display: flex;font-size: 12px;transform: translateY(-7px);">
                  <span>Thương hiệu: {{billDetail.idSanPhamChiTiet.idSanPham.idThuongHieu.ten}}</span>
                </div>

                <span style="
                display: inline-block;
                color: red;
                font-size: 12px;
                font-weight: 800;
                ">{{formatToVND(billDetail.idSanPhamChiTiet.idDotGiamGia == null ?
                  billDetail.idSanPhamChiTiet.donGia : (100 -
                  billDetail.idSanPhamChiTiet.idDotGiamGia.phanTramGiam) * billDetail.idSanPhamChiTiet.donGia /
                  100)}}</span>
                <span style="
                      display: inline-block;
                      color: rgb(150, 150, 150);
                      font-size: 10px;
                      font-weight: 800;
                      text-decoration: line-through;
                      "
                  ng-if="billDetail.idSanPhamChiTiet.idDotGiamGia != null">{{formatToVND(billDetail.idSanPhamChiTiet.donGia)}}</span>


              </div>
            </div>
          </td>
          <td class="border-bottom-0" style="display: flex;justify-content: space-between;">
            <div ng-if="bill.trangThai == 1">
              <button class="btn btn-sm btn-outline-muted"
                style="width: 33.3%;border-radius: 0px;border-top-left-radius: 5px;border-bottom-left-radius: 5px;"
                ng-click="minusQuantity(billDetail)">
                <i class="ti ti-minus" style="font-size: 14px;"></i>
              </button>
              <input type="number" class="btn btn-sm btn-outline-muted text-center"
                style="width: 33%;height: 40px;border-radius: 0;border-left: 0px;border-right: 0px;font-size: 14px;"
                ng-model="billDetail.soLuong" ng-change="changeQuantity(billDetail)" disabled
                id="bill-detail-quantity-{{billDetail.id}}">
              <button class="btn btn-sm btn-outline-muted"
                style="width: 33%;border-radius: 0px;border-top-right-radius: 5px;border-bottom-right-radius: 5px;"
                ng-click="plusQuantity(billDetail)">
                <i class="ti ti-plus" style="font-size: 14px;"></i>
              </button>
            </div>

            <div ng-if="bill.trangThai == 4" style="text-align: center;margin-left: 54px;">
              <button class="btn btn-outline-muted" disabled>{{billDetail.soLuong}}</button>
            </div>

          </td>
          <td style="
                color: #FA896B;
                font-size: 14px;
                font-weight: 800;
                text-align: center;
                " class="border-bottom-0">
            {{formatToVND(billDetail.idSanPhamChiTiet.idDotGiamGia == null ?
            (billDetail.idSanPhamChiTiet.donGia * billDetail.soLuong) : (100 -
            billDetail.idSanPhamChiTiet.idDotGiamGia.phanTramGiam) * billDetail.idSanPhamChiTiet.donGia *
            billDetail.soLuong / 100)}}
          </td>
          <td class="border-bottom-0">
            <i class="ti ti-trash-x-filled" ng-click="removeBillDetailByBillAndProductDetail(billDetail.id)" style="    
              font-size: 23px;
              color: #d11a2a;"></i>
          </td>
        </tr>

      </tbody>
    </table>

    <!-- Pagination -->
    <span ng-show="!=0">
      <uib-pagination items-per-page="itemsPerPageBillDetails" total-items="totalItemBillDetails"
        ng-model="currentPageBillDetails" class="pagination-sm" previous-text="‹" next-text="›" first-text="«"
        last-text="»" style="
              width: 16%;
              margin-left: auto;
              margin-right: auto;
              " max-size="3" ng-change="pageChangedBillDetails()"></uib-pagination>
    </span>

    <div id="invoice" hidden>
      <table width="100%" border="0" cellpadding="0" cellspacing="0" align="center" class="fullTable" bgcolor="#e1e1e1">
        <tr>
          <td>
            <table width="600" border="0" cellpadding="0" cellspacing="0" align="center" class="fullTable"
              bgcolor="#ffffff" style="border-radius: 10px 10px 0 0;">
              <tr class="hiddenMobile">
                <td height="40"></td>
              </tr>

              <tr>
                <td>
                  <table width="480" border="0" cellpadding="0" cellspacing="0" align="center" class="fullPadding">
                    <tbody>
                      <tr>
                        <td>
                          <table width="220" border="0" cellpadding="0" cellspacing="0" align="left" class="col">
                            <tbody>
                              <tr>
                                <td
                                  style="font-size: 12px; color: #5b5b5b; font-family: 'Open Sans', sans-serif; line-height: 18px; vertical-align: top; text-align: left;">
                                  <div height="40" style="color: #5D87FF; font-weight: 700;">THE SNEAKER HOUSE</div>
                                  <br />
                                  Xin chào, {{bill.tenNguoiNhan == null || bill.tenNguoiNhan == "" ? 'khách hàng' :
                                  bill.tenNguoiNhan}}.
                                  <br> Cảm ơn bạn đã ủng hộ shop.
                                </td>
                              </tr>
                            </tbody>
                          </table>
                          <table width="220" border="0" cellpadding="0" cellspacing="0" align="right" class="col">
                            <tbody>

                              <tr style=" transform: translateY(19px);">
                                <td
                                  style="font-size: 12px; color: #5b5b5b; font-family: 'Open Sans', sans-serif; line-height: 18px; vertical-align: top; text-align: right;">
                                  <div height="40" style="color: #5D87FF; font-weight: 700;"></div>
                                  <br />
                                  <small>Mã hóa đơn:</small> {{bill.ma}}<br />
                                  <small>{{bill.ngayTao | date : 'HH:mm dd/MM/yyyy'}}</small>
                                </td>
                              </tr>
                            </tbody>
                          </table>
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </td>
              </tr>
            </table>
          </td>
        </tr>
      </table>
      <!-- /Header -->
      <!-- Order Details -->
      <table width="100%" border="0" cellpadding="0" cellspacing="0" align="center" class="fullTable" bgcolor="#e1e1e1">
        <tbody>
          <tr>
            <td>
              <table width="600" border="0" cellpadding="0" cellspacing="0" align="center" class="fullTable"
                bgcolor="#ffffff">
                <tbody>
                  <tr>
                  <tr class="visibleMobile">
                    <td height="40"></td>
                  </tr>
                  <tr>
                    <td>
                      <table width="480" border="0" cellpadding="0" cellspacing="0" align="center" class="fullPadding">
                        <tbody>
                          <tr>
                            <th
                              style="font-size: 12px; font-family: 'Open Sans', sans-serif; color: #5b5b5b; font-weight: normal; line-height: 1; vertical-align: top; padding: 0 10px 7px 0;"
                              width="52%" align="left">
                              Sản phẩm
                            </th>
                            <th
                              style="font-size: 12px; font-family: 'Open Sans', sans-serif; color: #5b5b5b; font-weight: normal; line-height: 1; vertical-align: top; padding: 0 0 7px;"
                              align="center">
                              Đơn giá
                            </th>
                            <th
                              style="font-size: 12px; font-family: 'Open Sans', sans-serif; color: #5b5b5b; font-weight: normal; line-height: 1; vertical-align: top; padding: 0 0 7px;"
                              align="center">
                              Số lượng
                            </th>
                            <th
                              style="font-size: 12px; font-family: 'Open Sans', sans-serif; color: #1e2b33; font-weight: normal; line-height: 1; vertical-align: top; padding: 0 0 7px;"
                              align="right">
                              Thành tiền
                            </th>
                          </tr>
                          <tr>
                            <td height="1" style="background: #bebebe;" colspan="4"></td>
                          </tr>
                          <tr>
                            <td height="10" colspan="4"></td>
                          </tr>
                          <tr ng-repeat="billDetail in billDetails.content">
                            <td
                              style="font-size: 12px; font-family: 'Open Sans', sans-serif; color: #ff0000;  line-height: 18px;  vertical-align: top; padding:10px 0;"
                              class="article">
                              {{billDetail.idSanPhamChiTiet.idSanPham.ten}}[{{billDetail.idSanPhamChiTiet.idMauSac.ten}}
                              - {{billDetail.idSanPhamChiTiet.idKichCo.kichCo}}]
                            </td>
                            <td
                              style="font-size: 12px; font-family: 'Open Sans', sans-serif; color: #646a6e;  line-height: 18px;  vertical-align: top; padding:10px 0;">
                              <small> {{formatToVND(billDetail.idSanPhamChiTiet.idDotGiamGia == null ?
                                billDetail.idSanPhamChiTiet.donGia : (100 -
                                billDetail.idSanPhamChiTiet.idDotGiamGia.phanTramGiam) *
                                billDetail.idSanPhamChiTiet.donGia / 100)}}</small>
                            </td>
                            <td
                              style="font-size: 12px; font-family: 'Open Sans', sans-serif; color: #646a6e;  line-height: 18px;  vertical-align: top; padding:10px 0;"
                              align="center">{{billDetail.soLuong}}</td>
                            <td
                              style="font-size: 12px; font-family: 'Open Sans', sans-serif; color: #1e2b33;  line-height: 18px;  vertical-align: top; padding:10px 0;"
                              align="right"> {{formatToVND(billDetail.idSanPhamChiTiet.idDotGiamGia == null ?
                              (billDetail.idSanPhamChiTiet.donGia * billDetail.soLuong) : (100 -
                              billDetail.idSanPhamChiTiet.idDotGiamGia.phanTramGiam) *
                              billDetail.idSanPhamChiTiet.donGia *
                              billDetail.soLuong / 100)}}</td>
                          </tr>

                          <tr>
                            <td height="1" colspan="4" style="border-bottom:1px solid #e4e4e4"></td>
                          </tr>
                        </tbody>
                      </table>
                    </td>
                  </tr>
                  <tr>
                    <td height="20"></td>
                  </tr>
                </tbody>
              </table>
            </td>
          </tr>
        </tbody>
      </table>
      <!-- /Order Details -->
      <!-- Total -->
      <table width="100%" border="0" cellpadding="0" cellspacing="0" align="center" class="fullTable" bgcolor="#e1e1e1">
        <tbody>
          <tr>
            <td>
              <table width="600" border="0" cellpadding="0" cellspacing="0" align="center" class="fullTable"
                bgcolor="#ffffff">
                <tbody>
                  <tr>
                    <td>

                      <!-- Table Total -->
                      <table width="480" border="0" cellpadding="0" cellspacing="0" align="center" class="fullPadding">
                        <tbody>
                          <tr>
                            <td
                              style="font-size: 12px; font-family: 'Open Sans', sans-serif; color: #646a6e; line-height: 22px; vertical-align: top; text-align:right; ">
                              Tạm tính
                            </td>
                            <td
                              style="font-size: 12px; font-family: 'Open Sans', sans-serif; color: #646a6e; line-height: 22px; vertical-align: top; text-align:right; white-space:nowrap;"
                              width="80">
                              {{formatToVND(bill.tongTien)}}
                            </td>
                          </tr>
                          <tr>
                            <td
                              style="font-size: 12px; font-family: 'Open Sans', sans-serif; color: #646a6e; line-height: 22px; vertical-align: top; text-align:right; ">
                              <small>Phiếu giảm giá</small>
                            </td>
                            <td
                              style="font-size: 12px; font-family: 'Open Sans', sans-serif; color: #646a6e; line-height: 22px; vertical-align: top; text-align:right; ">
                              <small>{{formatToVND(bill.idVoucher === null ? 0 : bill.idVoucher.phanTramGiam *
                                bill.tongTien/100)}}</small>
                            </td>
                          </tr>
                          <tr>
                            <td
                              style="font-size: 12px; font-family: 'Open Sans', sans-serif; color: #646a6e; line-height: 22px; vertical-align: top; text-align:right; ">
                              Phí vận chuyển
                            </td>
                            <td
                              style="font-size: 12px; font-family: 'Open Sans', sans-serif; color: #646a6e; line-height: 22px; vertical-align: top; text-align:right; ">
                              {{formatToVND(bill.phiVanChuyen === null || bill.phiVanChuyen === 0 ? 0 :
                              bill.phiVanChuyen)}}
                            </td>
                          </tr>
                          <tr>
                            <td
                              style="font-size: 12px; font-family: 'Open Sans', sans-serif; color: #000; line-height: 22px; vertical-align: top; text-align:right; ">
                              <strong>Tổng tiền</strong>
                            </td>
                            <td
                              style="font-size: 12px; font-family: 'Open Sans', sans-serif; color: #000; line-height: 22px; vertical-align: top; text-align:right; ">
                              <strong>{{formatToVND(bill.tongTienSauGiam)}}</strong>
                            </td>
                          </tr>

                        </tbody>
                      </table>
                      <!-- /Table Total -->

                    </td>
                  </tr>
                </tbody>
              </table>
            </td>
          </tr>
        </tbody>
      </table>
      <!-- /Total -->

    </div>
  </div>
</div>

<!-- Modal state 1 -->
<div class="modal fade" id="confirmModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title text-center" id="exampleModalLabel">Ghi chú đơn hàng </h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Đóng"></button>
      </div>
      <div class="modal-body">
        <label for="exampleInputEmail1" class="form-label">Ghi chú: </label>
        <textarea placeholder="Nhập mô tả...." type="text" class="form-control" ng-model="noteState1"
          id="exampleInputEmail1" rows="4" aria-describedby="emailHelp"></textarea>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-danger" data-bs-dismiss="modal">
          <i class="ti ti-x" style="
                  display: inline-block;
                  font-size: 18px;
                  transform: translateY(2px);
              "></i>
          Đóng</button>
        <button type="button" class="btn btn-primary" ng-click="confirmBill()">
          Xác nhận
        </button>
      </div>
    </div>
  </div>
</div>

<!-- Modal state 2 -->
<div class="modal fade" id="shipModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title text-center" id="exampleModalLabel">Ghi chú đơn hàng </h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Đóng"></button>
      </div>
      <div class="modal-body">
        <label for="exampleInputEmail1" class="form-label">Ghi chú: </label>
        <textarea placeholder="Nhập mô tả...." type="text" class="form-control" ng-model="noteState2"
          id="exampleInputEmail1" rows="4" aria-describedby="emailHelp"></textarea>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-danger" data-bs-dismiss="modal">
          <i class="ti ti-x" style="
                  display: inline-block;
                  font-size: 18px;
                  transform: translateY(2px);
              "></i>
          Đóng</button>
        <button type="button" class="btn btn-primary" ng-click="shippBill()">
          Xác nhận
        </button>
      </div>
    </div>
  </div>
</div>

<!-- Modal state 3 -->
<div class="modal fade" id="successModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title text-center" id="exampleModalLabel">Ghi chú đơn hàng </h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Đóng"></button>
      </div>
      <div class="modal-body">
        <label for="exampleInputEmail1" class="form-label">Ghi chú: </label>
        <textarea placeholder="Nhập mô tả...." type="text" class="form-control" ng-model="noteState3"
          id="exampleInputEmail1" rows="4" aria-describedby="emailHelp"></textarea>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-danger" data-bs-dismiss="modal">
          <i class="ti ti-x" style="
                  display: inline-block;
                  font-size: 18px;
                  transform: translateY(2px);
              "></i>
          Đóng</button>
        <button type="button" class="btn btn-primary" ng-click="successBill()">
          Xác nhận
        </button>
      </div>
    </div>
  </div>
</div>

<!-- customer modal -->
<div class="modal fade" id="customerEdit" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title text-center" id="exampleModalLabel">Sửa khách hàng</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Đóng"></button>
      </div>
      <div class="modal-body">
        <div >
          <div>
            <label for="exampleInputEmail1" class="form-label">Tên khách hàng <sup
                style="color: #fa0000a8;">*</sup></label>
            <input placeholder="Nhập tên khách hàng...." style="height: 40px;" type="text" class="form-control"
              ng-model="bill.tenNguoiNhan" id="exampleInputEmail1" aria-describedby="emailHelp">
          </div>

          <div style=" margin-top: 20px;display: flex;justify-content: space-between;">
            <div style="width: 48%;">
              <label for="exampleInputEmail1" class="form-label">Số điện thoại <sup style="color: #fa0000a8;">*</sup>
              </label>
              <input placeholder="Nhập số điện thoại..." style="height: 40px;" type="text m" class="form-control"
                id="exampleInputEmail1" ng-model="bill.sdtNguoiNhan" aria-describedby="emailHelp">
            </div>

            <div style="width: 48%;">
              <label for="exampleInputEmail1" class="form-label">Email <sup style="color: #fa0000a8;">*</sup>
              </label>
              <input placeholder="Nhập email..." style="height: 40px;" type="text m" class="form-control"
                id="exampleInputEmail1" ng-model="bill.email" aria-describedby="emailHelp">
            </div>

          </div>

          <div style="display: flex;justify-content: space-between;align-items: center; margin-top: 20px;">
            <div style="width: 48%;">
              <label for="exampleInputEmail1" class="form-label">Tỉnh/Thành phố <sup
                  style="color: #fa0000a8;">*</sup></label>
              <div class="select-wrap">
                <select class="form-select " id="city" name="city"
                  onchange="angular.element(this).scope().getAllDistrict()" placeholder="Chọn trạng thái">
                </select>
              </div>
            </div>

            <div style="width: 48%;">
              <label for="exampleInputEmail1" class="form-label">Quận/huyện <sup style="color: #fa0000a8;">*</sup>
              </label>
              <div class="select-wrap">
                <select class="form-select" id="district" name="district"
                  onchange="angular.element(this).scope().getFullWardCode()" placeholder="Chọn trạng thái">
                  <option value="">--Chọn Quận/Huyện--</option>
                </select>
              </div>
            </div>

          </div>

          <div style="display: flex;justify-content: space-between;align-items: center; margin-top: 20px;">
            <div style="width: 48%;">
              <label for="exampleInputEmail1" class="form-label">Xã/phường <sup
                  style="color: #fa0000a8;">*</sup></label>
              <div class="select-wrap">
                <select class="form-select" id="ward" name="select" placeholder="Chọn trạng thái"
                  onchange="angular.element(this).scope().getFeeShipping()">
                  >
                  <option value="">--Chọn Xã/Phường--</option>
                </select>
              </div>
            </div>

            <div style="width: 48%;">
              <label for="exampleInputEmail1" class="form-label">Số nhà/Ngõ/Đường <sup
                  style="color: #fa0000a8;">*</sup> </label>
              <input placeholder="Nhập địa chỉ..." style="height: 40px;" type="text" class="form-control"
                id="exampleInputEmail1" ng-model="bill.diaChi" aria-describedby="emailHelp">
            </div>

          </div>



        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-danger" data-bs-dismiss="modal">
          <i class="ti ti-x" style="
                                         display: inline-block;
                                         font-size: 18px;
                                         transform: translateY(2px);
                                     "></i>
          Đóng</button>
        <button type="button" class="btn btn-primary" ng-click="updateCustomer()" style="margin-right: 15px;">
          <i class="ti ti-edit" style="
                             display: inline-block;
                             font-size: 18px;
                             transform: translateY(2px);
                         "></i>
          Xác nhận
        </button>
      </div>
    </div>
  </div>
</div>